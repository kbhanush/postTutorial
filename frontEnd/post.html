<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.18/angular-route.js"></script>
    <script src= "/app.js"></script>

</head>
<body ng-app = 'app'>
<div ng-controller ='PostsCtrl' class='container'>
    <h1>Recent Posts</h1>
    <div>
      <input ng-model='postBody'  class="input-xxlarge" type="text" placeholder="submit a post">
        <button ng-click='addPost()'>Post</button>
    </div><br>
    <ul class='list-group'>
        <li ng-repeat="post in posts | orderBy: '-date'" class='list-group-item'>
            <strong>{{ post.username }}</strong>
            <span>{{ post.body }}</span>
        </li>
    </ul>
</div>


<!--<script>-->
<!--var app = angular.module('app', ['ngRoute']);-->
<!--app.controller('PostsCtrl', function ($scope, $http) {-->

<!--$scope.addPost = function(){-->
<!--if ($scope.postBody) {-->
<!--$http.post('http://localhost:3000/api/posts', {username: 'kbhanush', body: $scope.postBody})-->
<!--.success(function(post){-->
<!--$scope.posts.unshift(post);-->
<!--$scope.postBody = null-->
<!--})-->

<!--}-->
<!--};-->


<!--$http.get('http://localhost:3000/api/posts').success(function(posts) {$scope.posts = posts})-->
<!--})-->
<!--</script>-->


</body>
</html>